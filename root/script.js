function getCookie(a){const b=document.cookie.split(";");for(let c=0;c<b.length;c++){const d=b[c].trim(),e=d.split("=");if(e[0]===a)return e[1]}}function setCookie(a,b,c){const e=new Date;e.setTime(e.getTime()+1e3*(60*(60*(24*c))));const d="expires="+e.toUTCString();document.cookie=a+"="+b+";"+d+";path=/"}async function generateSimpleFingerprint(){let a="";try{const b=[navigator.userAgent,navigator.language,navigator.platform,new Date().getTimezoneOffset()].join(","),c=new TextEncoder().encode(b),d=await crypto.subtle.digest("SHA-256",c),e=Array.from(new Uint8Array(d));a=e.slice(0,18).map(a=>a.toString(16).padStart(2,"0")).join("")}catch(a){return console.error("Error generating fingerprint:",a),""}return console.log("fingerprintHash",a),a}function parseQueryString(a){if(!a)return{};if("string"!=typeof a)throw new TypeError("Argument must be a string");const b={},c=a.slice(1).split("&");return c.forEach(a=>{const[c,d]=a.split("="),e=decodeURIComponent(c),f=decodeURIComponent(d);b[e]?Array.isArray(b[e])?b[e].push(f):b[e]=[b[e],f]:b[e]=f}),b}(async function(){var a,b,c,d;try{a=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(b){a="Asia/Calcutta",console.log("TimeZone error",b)}if(getCookie("fctrack_visitor_id")?b=getCookie("fctrack_visitor_id"):(b=await generateSimpleFingerprint(),setCookie("fctrack_visitor_id",b,7)),sessionStorage.getItem("fc_ip"))c=sessionStorage.getItem("fc_ip");else try{const a=await fetch("https://tr.farziengineer.co/ip"),b=await a.json();c=b?.ip,sessionStorage.setItem("fc_ip",b?.ip)}catch(a){console.log("err",a),c=""}if(getCookie("fctrack"))d=getCookie("fctrack");else{const a=parseQueryString(window.location.search);a?.utm_source||a?.utm_medium||a?.utm_campaign?(d=`us=${a?.utm_source}; um=${a?.utm_medium}; uc=${a?.utm_campaign}`,setCookie("fctrack",d,180)):d=""}var e=document.querySelector("#fc-collect-19212").getAttribute("data-client-id");fetch("https://tr.farziengineer.co/collect",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({pu:document.referrer||"",cu:window.location.href,bi:b,ui:getCookie("user_id"),ci:e,ua:window.navigator.userAgent,uip:c,utm:d,tz:a})}).then(a=>a.json()).then(a=>{a?.data?.ui&&setCookie("user_id",a?.data?.ui,365)}).catch(a=>{console.log("fc collect error:",a)})})(),window.fc_addtocart=async function({product_name:a,product_id:b,quantity:c,product_price:d,currency:e,variant:f}){var g=document.querySelector("#fc-collect-19212").getAttribute("data-client-id");fetch("https://tr.farziengineer.co/collect?evt_type=AddToCart",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui:getCookie("user_id"),ci:g,product_name:a,product_id:b,quantity:c,product_price:d,currency:e,variant:f})}).then(a=>a.json()).then(a=>{a?.data?.ui&&setCookie("user_id",a?.data?.ui,365)}).catch(a=>{console.log("fc collect error:",a)})},window.fc_purchase=async function({transaction_id:a,order_amount:b,tax:c,shipping_charge:d,currency:e,items:f,coupon_code:g,customer_id:h,pay_method:i,discount_amount:j}){var k,l=document.querySelector("#fc-collect-19212").getAttribute("data-client-id");if(sessionStorage.getItem("fc_ip"))k=sessionStorage.getItem("fc_ip");else try{const a=await fetch("https://tr.farziengineer.co/ip"),b=await a.json();k=b?.ip,sessionStorage.setItem("fc_ip",b?.ip)}catch(a){console.log("err",a),k=""}fetch("https://tr.farziengineer.co/collect?evt_type=Purchase",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui:getCookie("user_id"),ci:l,transaction_id:a,order_amount:b,tax:c,shipping_charge:d,currency:e,items:f,coupon_code:g,customer_id:h,pay_method:i,discount_amount:j,uip:k,utm:getCookie("fctrack")||""})}).then(a=>a.json()).then(a=>{a?.data?.ui&&setCookie("user_id",a?.data?.ui,365)}).catch(a=>{console.log("fc collect error:",a)})},window.fc_begin_checkout=async function({cart_amount:a,currency:b,items:c}){var d=document.querySelector("#fc-collect-19212").getAttribute("data-client-id");fetch("https://tr.farziengineer.co/collect?evt_type=BeginCheckout",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({ui:getCookie("user_id"),ci:d,cart_amount:a,currency:b,items:c})}).then(a=>a.json()).then(a=>{a?.data?.ui&&setCookie("user_id",a?.data?.ui,365)}).catch(a=>{console.log("fc collect error:",a)})};